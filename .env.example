# Database
DATABASE_URL="postgresql://user:password@localhost:5432/mydb?schema=public"
# Environment Configuration
NODE_ENV=development
PORT=3000


# Redis
REDIS_URL=redis://localhost:6379
ENABLE_BACKGROUND_JOBS=false

# Rate Limiting
THROTTLE_TTL_SEC=60
THROTTLE_LIMIT=120

# Token Bucket Rate Limiting
TOKEN_BUCKET_CAPACITY=100
TOKEN_BUCKET_REFILL_RATE=10
TOKEN_BUCKET_REFILL_INTERVAL=1000

# JWT
JWT_SECRET=your-secret-key-change-in-production
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=7d
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false
COOKIE_SAMESITE=lax
COOKIE_NAME=app_session

# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ========================================
# LOGGING CONFIGURATION
# ========================================

# Log level (trace | debug | info | warn | error | fatal)
# Development: debug or trace | Production: info or warn
LOG_LEVEL=debug

# Prisma log level (debug | info | warn | error)
# Set to 'debug' to see all queries in development
# Set to 'warn' or 'error' in production
PRISMA_LOG_LEVEL=warn

# Slow request threshold in milliseconds
# Requests slower than this will be logged as warnings
SLOW_REQUEST_THRESHOLD_MS=1000

# Redis slow command threshold in milliseconds
# Redis commands slower than this will be logged
REDIS_SLOW_LOG_THRESHOLD_MS=100

# Public URL (optional)
PUBLIC_BASE_URL=http://localhost:3000

# Storage (S3/R2)
STORAGE_DRIVER=s3
S3_ENDPOINT=
S3_REGION=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_BUCKET=
S3_PUBLIC_BASE_URL=
PRESIGN_EXPIRES=3600

# Email (SendGrid)
SENDGRID_API_KEY=
SENDGRID_FORCE_SEND=false
EMAIL_FROM=noreply@example.com
EMAIL_FROM_NAME="My App"
APP_URL=http://localhost:3000
MAIL_PREVIEW=true
MAIL_TEMPLATES_BASE_URL=

# Rate & Quotas (optional)
RL_RPM_IP=60
RL_RPM_WORKSPACE=100
QUOTA_TICKETS_PER_MONTH=1000
QUOTA_WEBHOOKS_PER_DAY=100
QUOTA_UPLOAD_BYTES_PER_MONTH=10737418240

# Webhooks (optional)
WEBHOOK_SIGNATURE_HEADER=
WEBHOOK_HMAC_ALGO=sha256
WEBHOOK_MAX_ATTEMPTS=3
WEBHOOK_INITIAL_DELAY_MS=1000
WEBHOOK_BACKOFF_FACTOR=2
WEBHOOK_MAX_DELAY_MS=60000
WEBHOOK_CONCURRENCY=5
IDEMPOTENCY_TTL_DAYS=7
WEBHOOK_DELIVERY_TTL_DAYS=7

# Misc
REQUEST_ID_HEADER=x-request-id
RLS_WORKSPACE_VAR=
RLS_ACTOR_VAR=
